"use strict";angular.module("barliftApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("barliftApp").controller("MainCtrl",["$scope","ParseService",function(a,b){a.user={email:"test1"},a.addEmail=function(a){b.addEmail(a.email,function(a){console.log(a)})}}]),angular.module("barliftApp").controller("HeaderCtrl",["$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("barliftApp").factory("ParseService",["$resource",function(){Parse.initialize("5DZi1FrdZcwBKXIxMplWsqYu3cEEumlmFDB1kKnC","G7yhVdBRY3S2jvjkHKddlsES5YZu1z99Nh9JPLTN");var a,b=Parse.Object.extend("email"),c={name:"Parse",login:function(b,c,d){Parse.User.logIn(b,c,{success:function(b){a=b,d(b)},error:function(a,b){alert("Error: "+b.message)}})},FB_login:function(b){Parse.FacebookUtils.logIn(null,{success:function(c){alert(c.existed()?"User logged in through Facebook!":"User signed up and logged in through Facebook!"),a=c,b(c)},error:function(){alert("User cancelled the Facebook login or did not fully authorize.")}})},signUp:function(b,c,d){Parse.User.signUp(b,c,{ACL:new Parse.ACL},{success:function(b){a=b,d(b)},error:function(a,b){alert("Error: "+b.message)}})},logout:function(){Parse.User.logOut()},addEmail:function(a,c){var d=new b;d.save({email:a},{success:function(){c()},error:function(a){alert("Error: "+a.message)}})},getUser:function(){return a?a:void 0},isLoggedIn:function(){return a?!0:void 0}};return c}]),angular.module("barliftApp").controller("LoginCtrl",["$scope","$location","ParseService",function(a,b,c){a.login=function(){c.login(a.login_username,a.login_password,function(){b.path("/admin")})}}]),angular.module("barliftApp").controller("AdminCtrl",["$location","ParseService",function(a,b,c){c.isLoggedIn()?a.user=c.getUser():b.path("/login")}]);