<form method="get" class="form-horizontal" name="dealBuilder">
    <div class="form-group" >
        <label class="col-sm-2 control-label">Deal Headline</label>
        <div class="col-sm-10">
            <textarea type="text" class="form-control" ng-model="deal.name" required></textarea>
            <span class="help-block m-b-none">2 on the phone</span>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-4 col-sm-offset-2">
            <button class="btn btn-primary" ng-click="addSubDeal()">Add Sub Deal</button>
        </div>
    </div>
    <div class="form-group" ng-repeat="sub in deal.add_deals track by $index">
        <label class="col-sm-2 control-label">Deal {{$index + 1}}</label>
        <div class="col-sm-10">
            <div class="input-group">
                <input type="text" class="form-control" ng-model="deal.add_deals[$index]" ng-maxlength="50" required>
                <span class="input-group-btn"> 
                  <button type="button" class="btn btn-danger" ng-click="removeSubDeal($index)">Remove</button> 
                </span>
            </div>
            <span class="help-block m-b-none">3 on the phone</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Description</label>
        <div class="col-sm-10">
            <textarea type="text" class="form-control" ng-model="deal.description" required></textarea>
            <span class="help-block m-b-none">4 on the phone</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Venue</label>
        <div class="col-sm-10">
            <select class="form-control m-b" name="account" ng-model="deal.venue" ng-options="venue.bar_name for venue in venues" required>
            </select>
            <span class="help-block m-b-none">1 on the phone</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Deal Image</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="deal.image_url" ng-required>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Community</label>
        <div class="col-sm-10">
            <select class="form-control m-b" name="account" ng-model="deal.community_name" required>
                <option ng-repeat="community in communities">{{community}}</option>
            </select>
        </div>
    </div>
    <div class="form-group" id="data_4">
        <label class="col-sm-2 control-label">Start Date</label>
        <div class="col-sm-10">
            <div class="input-group date">
                <input type="datetime" class="form-control" date-time ng-model="deal.deal_start_date" date format="yyyy-MM-dd h:mm a" required>
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </div>
    </div>
    <div class="form-group" id="data_4">
        <label class="col-sm-2 control-label">End Date</label>
        <div class="col-sm-10">
            <div class="input-group date">
                <input type="datetime" class="form-control" date-time max-view="date" ng-model="deal.deal_end_date" date format="yyyy-MM-dd h:mm a" required>
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </div>
    </div>
    <div class="hr-line-dashed"></div>
    <div class="form-group">
        <div class="col-sm-3 col-sm-offset-2">
            <button class="btn btn-danger" ng-if="deal.objectId" type="submit" ng-click="deleteDeal()">Delete</button>
            <button class="btn btn-primary" ng-if="deal.objectId" type="submit" ng-click="updateDeal()" ng-disabled="dealBuilder.$invalid || alert.text">Update</button>
            <button class="btn btn-warning" ng-if="deal.objectId" ui-sref="deals.builder({selectedDeal: ''})">Cancel</button>
            <button class="btn btn-primary" ng-if="!deal.objectId" type="submit" ng-click="saveDeal()"  ng-disabled="dealBuilder.$invalid || alert.text">Create</button>
        </div>
        <div class="col-sm-4" ng-if="alert.text">
            <div class="alert alert-danger" ng-if="alert">
                {{alert.text}}
            </div>
        </div>
    </div>
</form>